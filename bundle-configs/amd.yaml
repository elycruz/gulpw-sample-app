name: "amd" # Dash or underscore separated bundle name
version: "0.0.0" # Semver version string
description: "Example feature 1 bundle." # description goes here

files:
#  js:
#    - ./fe-dev/bower_components/requirejs/require.js
#    - ./public/js/amd/init.js
#    - ./public/js/amd/modules/application/Application.js
  html:
    - ./fe-dev/amd.html
  css:
    - ./fe-dev/css/global/normalize.css
    - ./fe-dev/css/global/main.css

requirejs:
  options:
    appDir: ./fe-dev/js/src/amd/
    baseUrl: ./
    dir: ./public/js/amd/
    optimize: uglify
    keepBuildDir: true,
#    mainConfigFile: ./fe-dev/js/src/amd/init.js
    # Paths are relative to the `appDir`
    paths:
      amplify: ../../../bower_components/amplify/lib/amplify.core
      jquery: ../../../bower_components/jquery/dist/jquery
      modernizr: ../../../bower_components/modernizr/modernizr
      text: ../../../bower_components/requirejs-text/text
    modules:
      -
        name: init
        deps:
          - main
        include:
          - modernizr
          - jquery
          - amplify
          - main
      -
        name: main
        exclude:
          - jquery
          - modernizr
          - amplify
        include:
          - modules/application/Application

deploy:
  otherFiles:
    js:
      - ./fe-dev/bower_components/requirejs/require.js
    relative:
      - ./public/js/amd/modules/application/Application.js
      - ./public/js/amd/init.js
